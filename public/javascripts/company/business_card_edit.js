function closePhoneEdit(){$('span.create_phone').hide();$('a.phone_add').show();$('div#error-messages').html('')}function closeServiceEdit(){$('.edit_services').hide("slow");$('#cv-serv-master-box').show()}function closeAddressEdit(){$('div.adress-edit-box').hide("slow");$('p.address').show();$('div#error-messages').html('')}function closeImageEdit(){$('.ui-tabs-selected').removeClass("ui-tabs-selected, ui-state-active");$('.ui-tabs-panel').addClass('ui-tabs-hide')}jQuery.fn.mouseOverFunction=function(){$(this).mouseover(function(){$(this).addClass("over")});$(this).mouseout(function(){$(this).removeClass("over")})};jQuery.fn.createPhoneForm=function(){$('form.create_phone').submitWithAjax();$('a.phone_cancel').click(function(){closePhoneEdit()});$('.create_phone').blur(function(){closeAddressEdit();closeImageEdit();closeServiceEdit();$('span.create_phone').hide();$('a.phone_add').show()})};function delete_phone(element){$('body').css('cursor','wait');jQuery.ajax({async:true,url:'/company/phones/destroy/'+jQuery(element).attr('name'),type:'POST',data:{_method:'DELETE',authenticity_token:AUTH_TOKEN},success:function(){$('body').css('cursor','auto')},error:function(request){alert('Sorry, there was an error!!!')}});return true}function edit_address(){closePhoneEdit();closeImageEdit();closeServiceEdit();$('p.address').hide();$('div.adress-edit-box').show("slow");$('a.address_cancel').click(function(){closeAddressEdit()})}$(document).ready(function(){$('.edit').editable('/company/business_card/update',{cancel:' ',submit:' ',cssclass:'text_field',indicator:"<img src='/images/colorbox/loading.gif'/>",tooltip:'Clique para editar...',submitdata:{authenticity_token:AUTH_TOKEN}});$('.edit_area').editable("/company/business_card/update",{type:'textarea',rows:8,cssclass:'edit',cancel:' ',submit:' ',indicator:"<img src='/images/colorbox/loading.gif'/>",tooltip:'Clique para editar...',data:function(value,settings){var retval=value.replace(/<br[\s\/]?>/gi,'\n');return retval},submitdata:{authenticity_token:AUTH_TOKEN}});$('.edit, .edit_area').click(function(){closeAddressEdit();closeImageEdit();closePhoneEdit();closeServiceEdit()});$('#cv-serv-master-box').click(function(){closeAddressEdit();closePhoneEdit();closeImageEdit();$(this).hide("slow");$('.edit_services').show("slow")});$('a.service_cancel').click(function(){closeServiceEdit()});$('a.address').click(function(){edit_address()});$(document).createPhoneForm();$('a.phone_add').click(function(){closeAddressEdit();closeImageEdit();closeServiceEdit();$('span.create_phone').show();$('a.phone_add').hide()});$('a.phone_delete').click(function(){delete_phone(this)});$('form.edit_company').submitWithAjax();$('input[id^=check_]').click(function(){$('body').css('cursor','wait');jQuery.ajax({async:true,url:'/company/service/'+(jQuery(this).is(':checked')?'create/':'destroy/')+jQuery(this).attr('name'),type:'POST',data:{_method:'PUT',user:{accept:jQuery(this).is(':checked')},authenticity_token:AUTH_TOKEN},success:function(){$('body').css('cursor','auto')},error:function(request){alert('Ocorreu um erro durante a ação. Entre em contato com o administrador.')}});return true});$("#tabs").tabs({select:function(){closeAddressEdit();closePhoneEdit();closeServiceEdit();return true},collapsible:true,selected:null});$('.inplace').mouseOverFunction();$('.image_cancel').click(function(){closeImageEdit()});$(".orientation-msg").corner("5px")});